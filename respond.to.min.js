;(function(){function n(e){t._respond(e)}var e=this;var t=e.Respond={};t._push=function(t,r){if(!e.matchMedia)return this;var i=t;t=this._purify(t);this._mediaStack||(this._mediaStack={});this._mediaStack[t]||(this._mediaStack[t]={mql:null,items:[]});if(!this._mediaStack[t].mql){this._mediaStack[t].mql=e.matchMedia(i);this._mediaStack[t].mql.addListener(n);this._mediaStack[t].mql.keyValue=t}this._mediaStack[t].items.push(r);return this};t._purify=function(e,t){t||(t="_");return e.toLowerCase().replace(/[\s\-:()]/g,t).replace(/__/g,t).replace(/(_)$/,"")};t._respond=function(e,t){var n=e.keyValue;if(navigator.userAgent.match(/MSIE 9.0/)){n=this._purify(e.media)}if(navigator.userAgent.match(/MSIE 8.0/)){for(var r=0;r<this._mediaStack[n].items.length;r++){var i=this._mediaStack[n].items[r],s=i["default"]||"if";if(typeof i[s]==="function"){if(!t||i["namespace"]==t){i[s]()}}}return}if(!this._mediaStack[n])return;if(e.matches){for(var r=0;r<this._mediaStack[n].items.length;r++){var i=this._mediaStack[n].items[r];if(typeof i["if"]==="function"){if(!t||i["namespace"]==t){i["if"]()}}}}else{for(var r=0;r<this._mediaStack[n].items.length;r++){var i=this._mediaStack[n].items[r];if(typeof i["else"]==="function"){if(!t||i["namespace"]==t){i["else"]()}}}}};t._retrieve=function(e,t){if(typeof this._mediaStack==="undefined")return;var n=[];if(!t){for(var t in this._mediaStack){for(var r=0;r<this._mediaStack[t].items.length;r++){n.push(this._mediaStack[t].items[r])}}}else{if(!this._mediaStack[t])return;n=this._mediaStack[t].items}for(var r=0;r<n.length;r++){if(n[r].namespace===e){return n[r]}}};t.to=function(e){if(e.length){for(var t=0;t<e.length;t++){this.to(e[t])}}else{if(typeof this._retrieve(e.namespace,e.media)==="undefined"){this._push(e.media,e)}}return this};t.ready=function(){for(var e in this._mediaStack){this._respond(this._mediaStack[e].mql)}};t.getStack=function(e){return this._mediaStack[e]||this._mediaStack};t.remove=function(e,t){if(!this._mediaStack.length&&!this._mediaStack[e])return;if(!t){this._mediaStack[e].mql.removeListener(n);delete this._mediaStack[e];return this}for(var r=0;r<this._mediaStack[e].items.length;r++){if(this._mediaStack[e].items[r].namespace===t){delete this._mediaStack[e].items[r];this._mediaStack[e].items.splice(r,1)}}return this};t.call=function(e,t,n){try{if(n){this._retrieve(e,n)[t](this)}else if(t){this._retrieve(e)[t](this)}else{this._respond(this._mediaStack[this._retrieve(e).media].mql,e)}}catch(r){console.error(r)}return this}}).call(this)
